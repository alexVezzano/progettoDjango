{% load static %}

<nav class="navbar navbar-expand-lg navbar-light bg-light">
<div class="container">
    <!-- Logo e pulsante Home -->
    <div class="d-flex align-items-center">
        <a class="navbar-brand me-3" href="{% url 'home' %}">
            <img src="{% static 'images/logo.png' %}" alt="Logo" style="height: 40px;">
        </a>
        <a class="nav-link" href="{% url 'home' %}">Home</a>
    </div>
        
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ms-auto align-items-center">
                {% if user.is_authenticated %}
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'asta:crea_asta' %}">Crea un'asta</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{%url 'asta:mie_aste'%}">Le mie aste</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'logout'%}" onclick="return confirmLogout(event)">Logout</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'utente:profilo' %}">Profilo</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link p-0 ms-2" href="{% url 'utente:profilo' %}">
                            {% if user.immagine_profilo %}
                                <img src="{{ user.immagine_profilo.url }}" alt="Immagine Profilo" class="rounded-circle" style="height: 40px; width: 40px;">
                            {% else %}
                                <img src="{% static 'images/default.png' %}" alt="Default Profile" class="rounded-circle" style="height: 40px; width: 40px;">
                            {% endif %}
                        </a>
                    </li>
                {% else %}
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'utente:login' %}">Accedi</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'utente:registrazione' %}">Registrati</a>
                    </li>
                {% endif %}
            </ul>
        </div>
    </div>
</nav>



<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
function confirmLogout(event) {
    event.preventDefault();  // Previene l'azione predefinita del link
    if (confirm("Sei sicuro di voler effettuare il logout?")) {
        window.location.href = event.target.href;  
    }
}
</script>

